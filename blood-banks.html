<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blood Bank System - Blood Bank Locations</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="mockup">
        <div class="mockup-header">
            Blood Bank System
        </div>
        <div class="mockup-nav">
            <a href="dashboard.html">Dashboard</a>
            <a href="inventory.html">Blood Inventory</a>
            <a href="donors.html">Donors</a>
            <a href="blood-banks.html" class="active">Blood Banks</a>
            <a href="reports.html">Reports</a>
            <a href="#" id="logout-btn" style="float: right;">Logout</a>
            <a href="profile.html" style="float: right; margin-right: 5px;">Profile</a>
        </div>
        <div class="mockup-content">
            <h2>Blood Bank Locations</h2>
            
            <div class="search-bar">
                <input type="text" id="location-search" placeholder="Enter your address or zip code...">
                <button class="btn" onclick="findNearby()">Find Nearby</button>
                <select id="distance-filter">
                    <option value="10">Within 10 miles</option>
                    <option value="25">Within 25 miles</option>
                    <option value="50">Within 50 miles</option>
                </select>
            </div>
            
            <div class="map-container">
                <div class="map-placeholder">
                    <div id="map-message">Interactive Map Goes Here</div>
                    <div id="map-note">(Integration with Map API - shows blood bank locations)</div>
                </div>
            </div>
            
            <h3>Nearby Blood Banks</h3>
            <div class="location-list" id="location-results">
                <div class="location-item">
                    <h4>Central Blood Bank</h4>
                    <p><strong>Address:</strong> 123 Main St, Anytown, ST 12345</p>
                    <p><strong>Phone:</strong> (555) 123-4567</p>
                    <p><strong>Hours:</strong> Mon-Fri: 8am-6pm, Sat: 9am-2pm, Sun: Closed</p>
                    <p><strong>Distance:</strong> 1.2 miles</p>
                    <p>
                        <a href="blood-bank-view.html?id=BB001" class="btn-outline">View Details</a>
                        <a href="#" class="btn-outline" onclick="getDirections('Central Blood Bank', '123 Main St, Anytown, ST 12345')">Get Directions</a>
                    </p>
                </div>
                
                <div class="location-item">
                    <h4>Memorial Hospital Blood Center</h4>
                    <p><strong>Address:</strong> 456 Hospital Ave, Anytown, ST 12345</p>
                    <p><strong>Phone:</strong> (555) 987-6543</p>
                    <p><strong>Hours:</strong> 24/7 for emergency donations, Regular hours: Mon-Sun: 7am-8pm</p>
                    <p><strong>Distance:</strong> 2.8 miles</p>
                    <p>
                        <a href="blood-bank-view.html?id=BB002" class="btn-outline">View Details</a>
                        <a href="#" class="btn-outline" onclick="getDirections('Memorial Hospital Blood Center', '456 Hospital Ave, Anytown, ST 12345')">Get Directions</a>
                    </p>
                </div>
                
                <div class="location-item">
                    <h4>Community Center Blood Drive</h4>
                    <p><strong>Address:</strong> 789 Community Blvd, Anytown, ST 12346</p>
                    <p><strong>Phone:</strong> (555) 456-7890</p>
                    <p><strong>Hours:</strong> Special Event: March 15-17, 2025, 10am-4pm</p>
                    <p><strong>Distance:</strong> 3.5 miles</p>
                    <p>
                        <a href="blood-bank-view.html?id=BB003" class="btn-outline">View Details</a>
                        <a href="#" class="btn-outline" onclick="getDirections('Community Center Blood Drive', '789 Community Blvd, Anytown, ST 12346')">Get Directions</a>
                    </p>
                </div>
            </div>
            
            <div class="action-buttons">
                <a href="blood-bank-add.html" class="btn">Add New Blood Bank</a>
            </div>
        </div>
        <div class="mockup-footer">
            Â© 2025 Blood Bank System
        </div>
    </div>

    <script>
        // Check if user is logged in
        document.addEventListener('DOMContentLoaded', function() {
            const loggedInUser = sessionStorage.getItem('loggedInUser');
            if (!loggedInUser) {
                // Redirect to login if not logged in
                window.location.href = 'login.html';
            }
            
            // Handle logout
            document.getElementById('logout-btn').addEventListener('click', function(e) {
                e.preventDefault();
                sessionStorage.removeItem('loggedInUser');
                sessionStorage.removeItem('userRole');
                window.location.href = 'login.html';
            });
            
            // Check user role for permissions
            const userRole = sessionStorage.getItem('userRole');
            if (userRole !== 'admin') {
                // Hide admin-only buttons for non-admin users
                document.querySelector('.action-buttons').style.display = 'none';
            }
        });

        // Find nearby blood banks (simulation)
        function findNearby() {
            const searchLocation = document.getElementById('location-search').value;
            const distance = document.getElementById('distance-filter').value;
            
            if (!searchLocation) {
                alert('Please enter a location to search');
                return;
            }
            
            // In a real app, this would query a database or API
            // For this demo, we'll simulate the search with a message
            
            document.getElementById('map-message').textContent = `Showing results for: ${searchLocation}`;
            document.getElementById('map-note').textContent = `Showing blood banks within ${distance} miles`;
            
            // Simulate different results based on search
            const locationResults = document.getElementById('location-results');
            
            if (searchLocation.toLowerCase().includes('downtown')) {
                // Downtown search results
                locationResults.innerHTML = `
                    <div class="location-item">
                        <h4>Downtown Medical Plaza Blood Center</h4>
                        <p><strong>Address:</strong> 555 Medical Plaza, Downtown, ST 12345</p>
                        <p><strong>Phone:</strong> (555) 222-3333</p>
                        <p><strong>Hours:</strong> Mon-Fri: 7am-7pm, Sat: 8am-4pm, Sun: Closed</p>
                        <p><strong>Distance:</strong> 0.5 miles</p>
                        <p>
                            <a href="blood-bank-view.html?id=BB004" class="btn-outline">View Details</a>
                            <a href="#" class="btn-outline" onclick="getDirections('Downtown Medical Plaza Blood Center', '555 Medical Plaza, Downtown, ST 12345')">Get Directions</a>
                        </p>
                    </div>
                    
                    <div class="location-item">
                        <h4>Central Hospital Blood Center</h4>
                        <p><strong>Address:</strong> 123 Hospital St, Downtown, ST 12345</p>
                        <p><strong>Phone:</strong> (555) 444-5555</p>
                        <p><strong>Hours:</strong> 24/7</p>
                        <p><strong>Distance:</strong> 0.8 miles</p>
                        <p>
                            <a href="blood-bank-view.html?id=BB005" class="btn-outline">View Details</a>
                            <a href="#" class="btn-outline" onclick="getDirections('Central Hospital Blood Center', '123 Hospital St, Downtown, ST 12345')">Get Directions</a>
                        </p>
                    </div>
                `;
            } else if (searchLocation.toLowerCase().includes('west') || searchLocation.toLowerCase().includes('east')) {
                // West/East side search results
                locationResults.innerHTML = `
                    <div class="location-item">
                        <h4>Eastside Community Blood Bank</h4>
                        <p><strong>Address:</strong> 789 East Ave, Eastside, ST 12347</p>
                        <p><strong>Phone:</strong> (555) 777-8888</p>
                        <p><strong>Hours:</strong> Mon-Fri: 9am-5pm, Sat-Sun: Closed</p>
                        <p><strong>Distance:</strong> 1.5 miles</p>
                        <p>
                            <a href="blood-bank-view.html?id=BB006" class="btn-outline">View Details</a>
                            <a href="#" class="btn-outline" onclick="getDirections('Eastside Community Blood Bank', '789 East Ave, Eastside, ST 12347')">Get Directions</a>
                        </p>
                    </div>
                `;
            } else {
                // Default search results - keep the original ones
            }
            
            // Show a success message
            alert(`Found blood banks near ${searchLocation} within ${distance} miles`);
        }
        
        // Get directions (simulation)
        function getDirections(name, address) {
            // In a real app, this would link to a maps API
            alert(`Getting directions to ${name} at ${address}\n\nIn a real implementation, this would open a map application or show directions.`);
        }
    </script>
</body>
</html>